language: java

env:
  global:
  - secure: "Uzke9PZrR7js6IoRcZMB1KEPTWhQoWhS0Pw+fzt1odRHzItwl9z64/NoMbbf6i8sr4xuWKWk04mbK/LTuIEvtr6Kypf0++OD+M9PG0bYjw3t/uC5JbvUqZt8k/DsTL1MVZAM+GRoMLSMI+iU6PpL7wU5xM8JV75okZDGm8WJrwfL2Q9WZax4EVvro22B3GWth9oRxvgu8WDa1m/IxfFzgomKgiv+32kv6PVzuVb5l5A78nf5/eytrgqkSzSr3Tk8eLYSZ/0b7NvKeqBL9bWU//ZzkhTbg8K4L/ueWLrugTqk9Q3MfKkXCCdQqpC8qaEh3SUQV2B6VRLclxxxUoSWCoRLNGbBqOpSaZ+MWhhHbMRQCcFdMVAbHdO0KlR0J60A6MSImbm/pA8TkH4pDZqTbHutirUAljm3JWVicRnrjQDuNKi5o5KJsZU9QJf5Q/nrgNhHAUisKbbFox7693+KfyhTo129UZlXbYBwBPwKPuuZBMWelGA1xmyrKAbrFe6MUxjbA4/198i4lalXfjo7Wj3XdZiIL0V178UTKyXddWhuCvG1keZXCNO0buNvfpQzfxI7XW5focA6QAT29txHSRBQMvqkC/zNFNGUqx12+0WGyzTDp9HsqKZgOl1jYBbkc4e6LgMrD8Kl/pC+aQPQ1Tk7DIP6RyJJQOQbLVi9zGY="
  - secure: "mkdoUN6+DlbApGvLXfTvSFNlfFIj/srgGOROap5b8+09r0Kjr73J8BsBl4TCBxFZKjnr3EMi1xPrJeNrj9YeLkENo8jW2hB77oyeAgGvIDcidXB6O5YkpmJka9/Y6pEiL+DwSenzZY/vHOyK8sbvw0GMGKnhc9Rt6EQ2jBU5f/3Vy7tM1HWDfXqA+sw7LXOzx+pDGtCbLjhxEkwN2mlh6XKfCP8z1cJt5JJYPMcYenpbOrq087nC0R1RQBqtvd8ETGLI+3usnFHDZZ3Lt6o9XRlfxiIHtdSdpfrh6CQOwe7fyWHT56kRpOS86L04qTYz9ttcXIxnIqhTBHD5bVLc8So4TPgPmGzHZDPRe9G7WNpWEKWpzqie5sM5peOpmHcaI4I68N/bQSVSlnT2N3+Iih3ETWYzoYKHcgiJ9C/8OBgtSJ87okffynMUNZEMiaNCGO+24hkuMvtOW9CMjmDMgSAENuCrKGENqX4fYUKGqgdiohlmAeGnI0HrARlER0WRAwRLVhFOLKI8MOWWuVy0G7QgSSqCGAuP1Dm6tTvX2Y7TnHEZQB5U0qjIosLH6d79fP4SkZ4l7SFOcYkB3GDLyVMERvgVjm4AZPnA7Tv1LSN880PfBtuo4H/13MDM7tHmkBFIX1MF+ZFeW0FBhnKB9WBC7K2IbSoPx9yXdhoAzSs="
  - secure: "KNhe/LBHbOS/p5OpQLKjAhx+/Wl8kNQkvwwkG2cWO8l6A/7R+sFtK4JBCrV/9RAiEsVu13SCuA3K5vXAp5+ZXmmDlAKakdY/uFgjgvGCKSTkG/Y1w2aEfbAGxvB/+JgNrPccTnATpoAGOejadbzIyK2nyqZSRM3eP+lr014plMCtKZFZXZdoaWXV0Obt6ugwU7oxmEniOc+KK3igMEewMbpFk78k+m8ni50JUGCI3Me/qpyc5J9CQ942NPeryx8kFA7I4USupUxzP48O6xgaQGntB5YnYXwpA1I3QnxYdGKvJ5w/Ba2HPtP2zbhfnnQCjmvVb3fteA38A8agTvi3KHusXfhXR9VpHV0kH9Xj9urohqaVoAQFM8y+BU4Aswi7LczjWkxM+cGVZm8j2nJjDngXk+2ug3k8aSt4Z/7s/lHS6vrXB5nb8ThdBeMYgRclHTXwT/zgoIic4qHGDw91BtmPs3Iz2JtOqHIA9Z89R5CSWQxd3HA0E9L1pvFuLNSh3gH4EtzBNFORQiZwhMAoaWNZLuCIeQ8jfQEJcX6xzBN7KnXZ5i/xxTIp1Tb+Eymh/ppMoHiNGMTUUxek9Si8KAoAUkzSJglI18ZI3Fs1XTRob0YVmkI7vXmDUG8KEXGuf6LOajgy3pZtdfaLRu1vXZzXgkT60isrehWiDwnzMmk="
  - secure: "lZ13wDfZLkHSqd2tugI2qMziWDZoc603W+NDRHIJkMP7VWGSk8CJ7oSs2TwCh3GREgriXaE6BAehq+6sWSU6zUdxNLdBcI/pQ/lqpRdG5BpIVsqk0aHw2FEVMtxYZsnbDxBvO5WMBoxg/ik8chK5k9zGI6Dfl31QSoMRCG69DJ4tKFFKaxjJuzA+XTvVvjWrcVRh+6Ky+DrydJu0BLQPPSWeCrbNhBoKdE8l6k8XhHnHqdxW+RKe0zEldMyYKuBbdgbf7ww5Pa+9EADykgfOVj8mvYwTTggPPX9yO92b3WxxhMqKvlnqbDHKg8PknacGtWOyr4682bh9TuvdAfYbHU8m/aeg2cHFVq6GJzZvwc8+SBu1qYx5HRBQA1174vK3NAv2XqmOvor+T//8Rm9tteN788IA4UuVATiop1PzYITvMaIy1drUAlo2Is8Yva7kgiBp3z+3f2SJvqmVsJoChW04yzCgB2KF39jFzleVLELN8RosI3LSRedbvS3fx0VQdSoUZHolI9wPCcn9m/nVlladTqQf3+kTF7LgafgGwt8hsWThwR09nxj2CSFPskR8GQaDGX5phH3jWjyT3iM8d7iSXaipo+bgTHCYpsNldMzDO5uynVSFdWzkcwj7/MpEzTvKPGyVGrrn6AiOm5jN60tDlEITazM+/8vLcBCoCCM="

addons:
  sonarcloud:
    organization: "dmtech"
    token:
      secure: "dODa0bfBsS60Tvy0tOw+dU5yuJk/7mCKoUjq+LJfrryaFnWgdkoCMwhBBe76UpzfDJb1SEOLvPbOsp251KMGPEB3puslxFvNWVq5GI+0ROTl/zB+uqI4wB40lWf4zJUD/15Sg/Pki6UaTRyfagOc0CtTyEJ89P9eo6LauWIYjTgdVi0wP3ZXLSvp30I63fJLm0lR7IBWUuI2tMpSABoTnYkA2WBidYdscdaqzyrnLgXAVSCmnVxtgPssSYGS9725XpC1rMLXMGNxan8HHvdexC1/5rs3dqaklHTMHiNFEBT5NmwkQl2UOpxzf+Yru0ADAUssRcYjqHhxt8P5Xvj10y7yuuMwukIiLJwGEFhoDQWa8n9I1F8PZAkZCID3QQza7CzCdnylmdvKoUNRzhQoiVnB2c4wPBg+vXum4jahH/pasTCac12NfJjavG1leAl8ssNBPuIjIpyrWkeVefZVUo6bdocDGSJEcJa8MWsbU732lig/tGPQj8YSC4W3NnVciUucltSXtaD4IvC0EsnNawziXes4XcnWd05ppgzRpwpYImC4p7BAwkACzol2y1Gx0ty2x3Yl04Z4q8a0fNIXPyMZ0v0yJdnOAg2HwQPoeSbp5+VooWxNZJZ8WJo0NqXSSwa2TwO/pT2tHDdfn1Gmt8AcW4qQLU2fu3SsrTtHDgQ="

install: mvn install -P !build-extras -DskipTests=true -Dmaven.javadoc.skip=true -B -V
script:
  - mvn test -P !build-extras -B
  # build the project, run tests with coverage and then execute the SonarCloud analysis
  - mvn clean org.jacoco:jacoco-maven-plugin:prepare-agent install sonar:sonar

cache:
  directories:
    - ~/.m2/repository

after_success:
  - ./.travis/deploy.sh